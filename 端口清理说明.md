# 端口清理说明

## 🔧 自动清理端口

启动脚本已优化，会在启动前自动清理端口 5000 和 3000。

### 使用方法

直接运行启动命令即可，脚本会自动清理端口：

```bash
npm run electron:dev
```

或

```bash
npm run dev
```

### 手动清理端口

如果需要手动清理端口，可以使用：

```bash
# 清理单个端口
npm run kill-port 5000

# 或使用脚本
bash scripts/kill-ports.sh
```

### 清理所有相关进程

如果端口仍然被占用，可以强制清理：

```bash
# 清理所有 Node.js 相关进程
pkill -9 -f "node.*server/index.js"
pkill -9 -f "react-scripts"

# 或清理特定端口
lsof -ti:5000,3000 | xargs kill -9
```

---

## 📝 注意事项

1. **端口占用**：如果端口被占用，启动脚本会自动清理
2. **数据安全**：清理进程不会影响数据库数据
3. **开发模式**：开发模式下，关闭终端会自动停止服务

---

## 🐛 常见问题

### 问题：端口清理后仍然被占用

**解决**：
1. 检查是否有其他应用占用端口
2. 重启终端或 IDE
3. 使用 `lsof -i:5000` 查看具体占用进程

### 问题：清理后无法启动

**解决**：
1. 等待几秒让端口完全释放
2. 检查防火墙设置
3. 重启电脑（最后手段）

