# 账户名称功能说明

## ✅ 功能已添加

已成功添加账户名称功能，支持以下账户类型：
- 微信
- 支付宝
- 现金（默认）
- 银联
- 其他

## 📋 已完成的工作

### 1. 数据库更新
- ✅ 添加了 `account` 字段到 `transactions` 表
- ✅ 设置了默认值为 '现金'
- ✅ 添加了索引以提高查询性能
- ✅ 数据库迁移已完成

### 2. 后端 API 更新
- ✅ 创建接口支持 `account` 字段
- ✅ 批量创建接口支持 `account` 字段
- ✅ 更新接口支持 `account` 字段
- ✅ 默认值为 '现金'

### 3. 前端界面更新
- ✅ 快速录入表单添加账户选择
- ✅ 详细录入表单添加账户选择
- ✅ 批量录入表单添加账户选择
- ✅ 交易记录列表显示账户信息（带颜色标签）

## 🎨 界面特性

### 账户标签颜色
- 微信：绿色
- 支付宝：蓝色
- 现金：橙色
- 银联：紫色
- 其他：默认灰色

### 默认值
- 所有新记录默认账户为 "现金"
- 快速录入时，账户选择会保留上次选择的值

## 📝 使用说明

### 快速录入
1. 在快速录入表单中选择账户类型
2. 填写其他信息
3. 提交后，账户选择会保留，方便连续录入相同账户的记录

### 详细录入
1. 点击"详细录入"按钮
2. 在表单中选择账户类型
3. 填写完整信息后提交

### 批量录入
1. 点击"批量录入"按钮
2. 选择类型和日期
3. 添加多行记录
4. 每行都可以选择不同的账户类型

### 查看记录
- 交易记录列表中会显示账户信息
- 账户以彩色标签形式显示，便于识别

## 🔄 数据库迁移

如果之前已经有数据，运行以下命令进行迁移：

```bash
npm run migrate-account
```

迁移脚本会自动：
- 检查字段是否已存在
- 添加 `account` 字段（如果不存在）
- 为现有记录设置默认值 '现金'
- 添加索引

## 📊 数据格式

### 数据库字段
```sql
account VARCHAR(50) DEFAULT '现金' COMMENT '账户名称：微信、支付宝、现金、银联、其他'
```

### API 请求示例
```json
{
  "type": "expense",
  "amount": 100.00,
  "description": "购买商品",
  "date": "2024-01-01",
  "category": "购物",
  "account": "微信"
}
```

## 🎯 下一步

现在可以：
1. 重启后端服务器（如果正在运行）
2. 刷新前端页面
3. 开始使用账户功能记录交易

所有功能已就绪！

