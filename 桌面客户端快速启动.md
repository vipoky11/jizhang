# 桌面客户端快速启动指南

## 🚀 快速启动 Electron 桌面应用

### 方法一：开发模式（推荐）

```bash
# 1. 安装依赖（如果还没安装）
npm run install-all

# 2. 启动 Electron 桌面应用
npm run electron:dev
```

这个命令会：
- ✅ 自动启动后端服务器（端口 5000）
- ✅ 自动启动前端开发服务器（端口 3000）
- ✅ 等待两个服务器都启动后，打开 Electron 窗口
- ✅ 使用 SQLite 数据库（无需安装 MySQL）

### 方法二：生产模式（打包后）

```bash
# 1. 构建前端
npm run build

# 2. 启动 Electron（使用打包后的文件）
npm run electron
```

---

## 📋 使用说明

### 首次运行

1. **自动初始化数据库**
   - 应用会自动创建 SQLite 数据库
   - 自动插入默认分类和账户数据

2. **数据库位置**
   - Mac: `~/Library/Application Support/记账系统/accounting.db`
   - Windows: `%APPDATA%/记账系统/accounting.db`
   - Linux: `~/.config/记账系统/accounting.db`

### 功能特性

- ✅ **无需安装 MySQL**：使用 SQLite，开箱即用
- ✅ **数据本地存储**：所有数据存储在本地
- ✅ **自动启动服务器**：后端服务器自动启动
- ✅ **窗口管理**：关闭窗口时自动关闭服务器

---

## 🐛 常见问题

### 问题 1：窗口空白或加载失败

**解决**：
1. 检查控制台是否有错误信息
2. 确保端口 3000 和 5000 未被占用
3. 等待几秒让服务器完全启动

### 问题 2：无法连接到后端

**解决**：
- 检查后端服务器是否正常启动
- 查看控制台日志确认端口

### 问题 3：数据库初始化失败

**解决**：
- 检查用户数据目录的写入权限
- 查看控制台错误信息

---

## 💡 提示

- **开发模式**：修改代码后会自动热重载
- **关闭应用**：关闭窗口会自动关闭后端服务器
- **数据备份**：直接复制 `.db` 文件即可备份

---

## 🎯 下一步

打包成安装包：
```bash
npm run electron:build
```

打包后的安装包在 `dist/` 目录下。

